<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ–ï¸ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù‚Ø§Ø¯Ø© Ø§Ù„Ù†ØµØ± - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ğŸ–ï¸</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      direction: rtl;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      min-height: 100vh;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes pulse-gold {
      0% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4); }
      70% { box-shadow: 0 0 0 10px rgba(245, 158, 11, 0); }
      100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0); }
    }
    
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    
    .animate-fade-in {
      animation: fadeIn 0.8s ease-out forwards;
    }
    
    .animate-pulse-gold {
      animation: pulse-gold 2s infinite;
    }
    
    .animate-float {
      animation: float 3s ease-in-out infinite;
    }
    
    .form-input {
      transition: all 0.3s ease;
    }
    
    .form-input:focus {
      box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.3);
    }
    
    .gold-gradient {
      background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 50%, #f59e0b 100%);
    }
    
    .gold-text {
      background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .card-glow {
      box-shadow: 0 0 20px rgba(251, 191, 36, 0.2);
    }
    
    .nav-tab {
      transition: all 0.3s ease;
    }
    
    .nav-tab:hover {
      transform: translateY(-3px);
    }
    
    .player-card {
      transition: all 0.3s ease;
      transform-style: preserve-3d;
    }
    
    .player-card:hover {
      transform: translateY(-5px) rotateX(5deg);
    }
    
    .floating-shape {
      position: absolute;
      border-radius: 50%;
      opacity: 0.1;
      z-index: 0;
    }
    
    .content-section {
      display: none;
    }
    
    .content-section.active {
      display: block;
    }
    
    .password-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 100;
      justify-content: center;
      align-items: center;
    }
    
    .password-modal.active {
      display: flex;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="text-white min-h-screen flex flex-col">
  <!-- Floating shapes for background -->
  <div class="floating-shape w-64 h-64 bg-amber-400 top-20 -left-32 animate-float" style="animation-delay: 0s;"></div>
  <div class="floating-shape w-32 h-32 bg-amber-400 bottom-1/4 -right-16 animate-float" style="animation-delay: 1s;"></div>
  <div class="floating-shape w-40 h-40 bg-amber-400 top-1/3 left-1/4 animate-float" style="animation-delay: 2s;"></div>
  
  <!-- Password Modal -->
  <div id="passwordModal" class="password-modal">
    <div class="bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-2xl card-glow w-full max-w-md border border-amber-500/20">
      <h2 class="text-2xl font-bold text-center text-amber-400 mb-6">
        <i class="fas fa-lock ml-2"></i> ÙŠÙ„Ø²Ù… Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚
      </h2>
      <div class="mb-4">
        <label for="passwordInput" class="block text-lg font-semibold text-amber-300 mb-2">Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚</label>
        <input type="password" id="passwordInput" class="form-input mt-1 p-3 w-full bg-gray-700/70 text-white rounded-lg border border-amber-500/30 focus:outline-none focus:border-amber-400">
      </div>
      <p id="passwordError" class="text-red-400 text-center mb-4 hidden">Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ ØºÙŠØ± ØµØ­ÙŠØ­!</p>
      <div class="flex space-x-4">
        <button id="confirmPassword" class="gold-gradient text-gray-900 font-bold py-2 px-4 rounded-lg flex-1">
          ØªØ£ÙƒÙŠØ¯
        </button>
        <button id="cancelPassword" class="bg-gray-600 text-white font-bold py-2 px-4 rounded-lg flex-1">
          Ø¥Ù„ØºØ§Ø¡
        </button>
      </div>
    </div>
  </div>
  
  <!-- Header -->
  <header class="text-center py-8 px-4 bg-gradient-to-r from-slate-800 to-slate-900 shadow-2xl relative z-10">
    <div class="animate-fade-in">
      <h1 class="text-4xl md:text-5xl font-extrabold gold-text mb-2">
        ğŸ–ï¸ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù‚Ø§Ø¯Ø© Ø§Ù„Ù†ØµØ± ğŸ–ï¸
      </h1>
      <p class="text-lg md:text-xl font-medium text-amber-200 mt-3">
        ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ù„ÙŠØ¯ 2006 - 2007 - 2008 - 2009
      </p>
      <p class="text-md text-amber-100 mt-2">
        Ø§Ù„Ø¹Ø±Ø§Ù‚ - Ø°ÙŠ Ù‚Ø§Ø± - Ø§Ù„Ù†Ø§ØµØ±ÙŠØ©
      </p>
    </div>
  </header>

  <!-- Navigation Tabs -->
  <nav class="flex justify-center mt-6 px-4 relative z-10">
    <div class="flex space-x-2 md:space-x-4 bg-slate-800 p-2 rounded-xl shadow-lg">
      <button id="tabForm" class="nav-tab gold-gradient text-gray-900 font-bold py-2 px-4 rounded-lg flex items-center">
        <i class="fas fa-user-plus ml-2"></i> ØªØ³Ø¬ÙŠÙ„ Ù„Ø§Ø¹Ø¨
      </button>
      <button id="tabPlayers" class="nav-tab bg-slate-700 text-amber-300 font-bold py-2 px-4 rounded-lg flex items-center">
        <i class="fas fa-users ml-2"></i> Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙˆÙ†
      </button>
      <button id="tabAbout" class="nav-tab bg-slate-700 text-amber-300 font-bold py-2 px-4 rounded-lg flex items-center">
        <i class="fas fa-info-circle ml-2"></i> Ø¹Ù† Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©
      </button>
    </div>
  </nav>

  <!-- Main Content Container -->
  <main class="flex-grow flex items-center justify-center p-4 relative z-10">
    
    <!-- Form Section -->
    <section id="formSection" class="content-section active w-full max-w-4xl">
      <div id="captureArea" class="bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-2xl card-glow w-full transition-all duration-300 transform hover:scale-[1.02] border border-amber-500/20">
        <h2 class="text-3xl font-bold text-center text-amber-400 mb-6 pb-2 border-b border-amber-400/30">
          <i class="fas fa-file-alt ml-2"></i> Ø§Ø³ØªÙ…Ø§Ø±Ø© ØªØ³Ø¬ÙŠÙ„ Ù„Ø§Ø¹Ø¨
        </h2>
        <form id="playerForm" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="name" class="block text-lg font-semibold text-amber-300 mb-2">
                <i class="fas fa-user ml-2"></i> Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„
              </label>
              <input type="text" id="name" required class="form-input mt-1 p-3 w-full bg-gray-700/70 text-white rounded-lg border border-amber-500/30 focus:outline-none focus:border-amber-400">
            </div>

            <div>
              <label for="birthYear" class="block text-lg font-semibold text-amber-300 mb-2">
                <i class="fas fa-birthday-cake ml-2"></i> Ø³Ù†Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯
              </label>
              <select id="birthYear" required class="form-input mt-1 p-3 w-full bg-gray-700/70 text-white rounded-lg border border-amber-500/30 focus:outline-none focus:border-amber-400">
                <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø³Ù†Ø© --</option>
                <option value="2006">2006</option>
                <option value="2007">2007</option>
                <option value="2008">2008</option>
                <option value="2009">2009</option>
              </select>
            </div>

            <div>
              <label for="phone" class="block text-lg font-semibold text-amber-300 mb-2">
                <i class="fas fa-phone ml-2"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
              </label>
              <input type="tel" id="phone" placeholder="Ù…Ø«Ø§Ù„: 07XXXXXXXX" required class="form-input mt-1 p-3 w-full bg-gray-700/70 text-white rounded-lg border border-amber-500/30 focus:outline-none focus:border-amber-400">
            </div>

            <div>
              <label for="position" class="block text-lg font-semibold text-amber-300 mb-2">
                <i class="fas fa-futbol ml-2"></i> Ø§Ù„Ù…Ø±ÙƒØ²
              </label>
              <select id="position" required class="form-input mt-1 p-3 w-full bg-gray-700/70 text-white rounded-lg border border-amber-500/30 focus:outline-none focus:border-amber-400">
                <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±ÙƒØ² --</option>
                <option>Ø­Ø§Ø±Ø³ Ù…Ø±Ù…Ù‰</option>
                <option>Ù…Ø¯Ø§ÙØ¹</option>
                <option>ÙˆØ³Ø·</option>
                <option>Ù…Ù‡Ø§Ø¬Ù…</option>
              </select>
            </div>
          </div>

          <div class="pt-4">
            <button type="submit" id="submitBtn" class="w-full gold-gradient text-gray-900 font-bold py-3 rounded-lg shadow-lg hover:shadow-amber-500/20 transition-all duration-300 transform hover:scale-[1.02] animate-pulse-gold flex items-center justify-center">
              <i class="fas fa-paper-plane ml-2"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…
            </button>
          </div>
        </form>
        <p id="msg" class="text-center mt-6 text-lg font-semibold py-2 rounded-lg"></p>
      </div>
    </section>
    
    <!-- Players List Section -->
    <section id="playersSection" class="content-section w-full max-w-4xl">
      <div class="bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-2xl card-glow w-full border border-amber-500/20">
        <h2 class="text-3xl font-bold text-center text-amber-400 mb-6 pb-2 border-b border-amber-400/30">
          <i class="fas fa-users ml-2"></i> Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙˆÙ†
        </h2>
        
        <div class="flex justify-center mb-6">
          <div class="flex space-x-2 bg-slate-700 p-2 rounded-lg">
            <button class="filter-btn bg-amber-500 text-gray-900 font-bold px-4 py-2 rounded" data-year="all">Ø§Ù„ÙƒÙ„</button>
            <button class="filter-btn bg-slate-600 text-amber-300 font-bold px-4 py-2 rounded" data-year="2006">2006</button>
            <button class="filter-btn bg-slate-600 text-amber-300 font-bold px-4 py-2 rounded" data-year="2007">2007</button>
            <button class="filter-btn bg-slate-600 text-amber-300 font-bold px-4 py-2 rounded" data-year="2008">2008</button>
            <button class="filter-btn bg-slate-600 text-amber-300 font-bold px-4 py-2 rounded" data-year="2009">2009</button>
          </div>
        </div>
        
        <div id="playersList" class="grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto p-2">
          <!-- Players will be dynamically added here -->
          <div class="text-center py-8 text-amber-200">
            <i class="fas fa-users text-4xl mb-4"></i>
            <p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø§Ø¹Ø¨ÙˆÙ† Ù…Ø³Ø¬Ù„ÙˆÙ† Ø¨Ø¹Ø¯</p>
          </div>
        </div>
        
        <div class="mt-6 flex justify-center space-x-4">
          <button id="exportBtn" class="gold-gradient text-gray-900 font-bold py-2 px-4 rounded-lg flex items-center">
            <i class="fas fa-download ml-2"></i> ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
          </button>
          <button id="clearBtn" class="bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center">
            <i class="fas fa-trash ml-2"></i> Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
          </button>
        </div>
      </div>
    </section>
    
    <!-- About Academy Section -->
    <section id="aboutSection" class="content-section w-full max-w-4xl">
      <div class="bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-2xl card-glow w-full border border-amber-500/20">
        <h2 class="text-3xl font-bold text-center text-amber-400 mb-6 pb-2 border-b border-amber-400/30">
          <i class="fas fa-info-circle ml-2"></i> Ø¹Ù† Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù‚Ø§Ø¯Ø© Ø§Ù„Ù†ØµØ±
        </h2>
        
        <div class="space-y-6 text-amber-100">
          <div class="flex items-start">
            <div class="gold-gradient p-3 rounded-full mr-4">
              <i class="fas fa-trophy text-gray-900 text-xl"></i>
            </div>
            <div>
              <h3 class="text-xl font-bold text-amber-300">Ø±Ø³Ø§Ù„ØªÙ†Ø§</h3>
              <p>ØªØ·ÙˆÙŠØ± Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØªÙ†Ù…ÙŠØ© Ù‚Ø¯Ø±Ø§ØªÙ‡Ù… Ù„ØµÙ†Ø§Ø¹Ø© Ø¬ÙŠÙ„ Ù…Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ù…ØªÙ…ÙŠØ²ÙŠÙ† Ø±ÙŠØ§Ø¶ÙŠØ§Ù‹ ÙˆØ£Ø®Ù„Ø§Ù‚ÙŠØ§Ù‹.</p>
            </div>
          </div>
          
          <div class="flex items-start">
            <div class="gold-gradient p-3 rounded-full mr-4">
              <i class="fas fa-bullseye text-gray-900 text-xl"></i>
            </div>
            <div>
              <h3 class="text-xl font-bold text-amber-300">Ø£Ù‡Ø¯Ø§ÙÙ†Ø§</h3>
              <p>Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ Ø§Ù„Ø´Ø§Ø¨Ø© ÙˆØªØ·ÙˆÙŠØ±Ù‡Ø§ Ù…Ù† Ø®Ù„Ø§Ù„ Ø¨Ø±Ø§Ù…Ø¬ ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù…ØªØ®ØµØµØ© Ø¨Ù‚ÙŠØ§Ø¯Ø© Ù…Ø¯Ø±Ø¨ÙŠÙ† Ù…Ø­ØªØ±ÙÙŠÙ†.</p>
            </div>
          </div>
          
          <div class="flex items-start">
            <div class="gold-gradient p-3 rounded-full mr-4">
              <i class="fas fa-calendar-alt text-gray-900 text-xl"></i>
            </div>
            <div>
              <h3 class="text-xl font-bold text-amber-300">Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©</h3>
              <p>Ø¨Ø±Ø§Ù…Ø¬ ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© ØªØ±ÙƒØ² Ø¹Ù„Ù‰ ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ÙØ±Ø¯ÙŠØ© ÙˆØ§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ù„ÙŠØ§Ù‚Ø© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©.</p>
            </div>
          </div>
          
          <div class="flex items-start">
            <div class="gold-gradient p-3 rounded-full mr-4">
              <i class="fas fa-map-marker-alt text-gray-900 text-xl"></i>
            </div>
            <div>
              <h3 class="text-xl font-bold text-amber-300">Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
              <p>Ø§Ù„Ø¹Ø±Ø§Ù‚ - Ø°ÙŠ Ù‚Ø§Ø± - Ø§Ù„Ù†Ø§ØµØ±ÙŠØ©</p>
            </div>
          </div>
        </div>
        
        <div class="mt-8 flex justify-center">
          <div class="animate-pulse-gold rounded-full p-4">
            <div class="gold-gradient text-gray-900 font-bold py-3 px-8 rounded-full text-center">
              <i class="fas fa-star ml-2"></i> Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ù‚Ø§Ø¯Ø© Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="py-6 px-4 bg-slate-800 mt-8 text-center text-amber-200 relative z-10">
    <p>Â© 2025 Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù‚Ø§Ø¯Ø© Ø§Ù„Ù†ØµØ±. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
    <p>ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨ÙˆØ§Ø³Ø·Ù‡ Ø§Ø­Ù…Ø¯ Ø±Ø¹Ø¯</p>
    <div class="flex justify-center space-x-4 mt-4">
      <a href="#" class="text-amber-300 hover:text-amber-400 transition"><i class="fab fa-facebook fa-lg"></i></a>
      <a href="#" class="text-amber-300 hover:text-amber-400 transition"><i class="fab fa-instagram fa-lg"></i></a>
      <a href="#" class="text-amber-300 hover:text-amber-400 transition"><i class="fab fa-twitter fa-lg"></i></a>
      <a href="#" class="text-amber-300 hover:text-amber-400 transition"><i class="fab fa-youtube fa-lg"></i></a>
    </div>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("playerForm");
      const msg = document.getElementById("msg");
      const submitBtn = document.getElementById("submitBtn");
      const playersList = document.getElementById("playersList");
      
      // Tab navigation
      const tabForm = document.getElementById("tabForm");
      const tabPlayers = document.getElementById("tabPlayers");
      const tabAbout = document.getElementById("tabAbout");
      const formSection = document.getElementById("formSection");
      const playersSection = document.getElementById("playersSection");
      const aboutSection = document.getElementById("aboutSection");
      
      // Filter buttons
      const filterBtns = document.querySelectorAll('.filter-btn');
      
      // Buttons
      const exportBtn = document.getElementById("exportBtn");
      const clearBtn = document.getElementById("clearBtn");
      
      // Password modal elements
      const passwordModal = document.getElementById("passwordModal");
      const passwordInput = document.getElementById("passwordInput");
      const passwordError = document.getElementById("passwordError");
      const confirmPassword = document.getElementById("confirmPassword");
      const cancelPassword = document.getElementById("cancelPassword");
      
      // Password for actions
      const ACTION_PASSWORD = "2006121"; // ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø²
      let currentAction = null;
      
      // Load players from localStorage
      let players = JSON.parse(localStorage.getItem('players')) || [];
      
      // Initialize the page
      updatePlayersList();
      
      // Tab switching functionality
      tabForm.addEventListener('click', () => switchTab(tabForm, formSection));
      tabPlayers.addEventListener('click', () => switchTab(tabPlayers, playersSection));
      tabAbout.addEventListener('click', () => switchTab(tabAbout, aboutSection));
      
      // Filter buttons functionality
      filterBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          filterBtns.forEach(b => b.classList.remove('bg-amber-500', 'text-gray-900'));
          filterBtns.forEach(b => b.classList.add('bg-slate-600', 'text-amber-300'));
          
          btn.classList.remove('bg-slate-600', 'text-amber-300');
          btn.classList.add('bg-amber-500', 'text-gray-900');
          
          const year = btn.getAttribute('data-year');
          updatePlayersList(year);
        });
      });
      
      // Export functionality with password
      exportBtn.addEventListener('click', () => {
        if (players.length === 0) {
          alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±');
          return;
        }
        currentAction = 'export';
        showPasswordModal();
      });
      
      // Clear functionality with password
      clearBtn.addEventListener('click', () => {
        if (players.length === 0) {
          alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ø³Ø­');
          return;
        }
        currentAction = 'clear';
        showPasswordModal();
      });
      
      // Password modal functionality
      confirmPassword.addEventListener('click', () => {
        if (passwordInput.value === ACTION_PASSWORD) {
          hidePasswordModal();
          passwordError.classList.add('hidden');
          
          if (currentAction === 'export') {
            exportPlayersData();
          } else if (currentAction === 'clear') {
            clearPlayersData();
          }
        } else {
          passwordError.classList.remove('hidden');
        }
      });
      
      cancelPassword.addEventListener('click', hidePasswordModal);
      
      // Form submission
      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        // Disable button and show a message
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin ml-2"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
        msg.textContent = "";
        msg.className = "text-center mt-6 text-lg font-semibold py-2 rounded-lg";

        const name = document.getElementById("name").value;
        const year = document.getElementById("birthYear").value;
        const phone = document.getElementById("phone").value;
        const position = document.getElementById("position").value;

        if (!(year === "2006" || year === "2007" || year === "2008" || year === "2009")) {
          msg.style.background = "linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(185, 28, 28, 0.2) 100%)";
          msg.style.color = "#fecaca";
          msg.textContent = "âŒ ÙÙ‚Ø· Ù…ÙˆØ§Ù„ÙŠØ¯ 2006 Ùˆ2007 Ùˆ2008 Ùˆ2009 Ù…Ø³Ù…ÙˆØ­.";
          submitBtn.disabled = false;
          submitBtn.innerHTML = '<i class="fas fa-paper-plane ml-2"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…';
          return;
        }

        try {
          const captureArea = document.getElementById("captureArea");
          const canvas = await html2canvas(captureArea, { scale: 2, useCORS: true });
          const imgData = canvas.toDataURL("image/jpeg", 0.9);

          const { jsPDF } = window.jspdf;
          const pdf = new jsPDF("p", "mm", "a4");
          const pdfWidth = pdf.internal.pageSize.getWidth();
          const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
          pdf.addImage(imgData, "JPEG", 0, 0, pdfWidth, pdfHeight);

          const pdfBlob = pdf.output("blob");
          const pdfFile = new File([pdfBlob], `Ø§Ø³ØªÙ…Ø§Ø±Ø©-${name}.pdf`, { type: "application/pdf" });

          // Save player data to localStorage
          const playerData = {
            name,
            year,
            phone,
            position,
            timestamp: new Date().toLocaleString('ar-SA')
          };
          
          players.push(playerData);
          localStorage.setItem('players', JSON.stringify(players));
          
          // Update players list
          updatePlayersList();

          // Telegram bot data (SECURITY WARNING: DO NOT USE IN PRODUCTION)
          const botToken = "7945152379:AAFtLazXVvOSYzxdwFkQKkRDf7HzRgzG9_s";
          const chatId = "909090929";

          const formData = new FormData();
          formData.append("chat_id", chatId);
          formData.append("document", pdfFile);
          formData.append("caption", `âš½ï¸ ØªØ³Ø¬ÙŠÙ„ Ù„Ø§Ø¹Ø¨ Ø¬Ø¯ÙŠØ¯ âš½ï¸\n\n- Ø§Ù„Ø§Ø³Ù…: ${name}\n- Ø³Ù†Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: ${year}\n- Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: ${phone}\n- Ø§Ù„Ù…Ø±ÙƒØ²: ${position}\n- ÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„: ${playerData.timestamp}`);
          
          const response = await fetch(`https://api.telegram.org/bot${botToken}/sendDocument`, {
            method: "POST",
            body: formData
          });

          if (!response.ok) {
            const errorData = await response.json();
            throw new Error(`Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Telegram: ${errorData.description || response.statusText}`);
          }

          msg.style.background = "linear-gradient(135deg, rgba(52, 211, 153, 0.2) 0%, rgba(16, 185, 129, 0.2) 100%)";
          msg.style.color = "#a7f3d0";
          msg.textContent = "âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­!";
          form.reset();

        } catch (error) {
          msg.style.background = "linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(185, 28, 28, 0.2) 100%)";
          msg.style.color = "#fecaca";
          msg.textContent = "âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.";
          console.error("Submission Error:", error);
        } finally {
          submitBtn.disabled = false;
          submitBtn.innerHTML = '<i class="fas fa-paper-plane ml-2"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…';
        }
      });
      
      // Function to show password modal
      function showPasswordModal() {
        passwordInput.value = "";
        passwordError.classList.add('hidden');
        passwordModal.classList.add('active');
      }
      
      // Function to hide password modal
      function hidePasswordModal() {
        passwordModal.classList.remove('active');
      }
      
      // Function to switch tabs
      function switchTab(activeTab, activeSection) {
        // Update tabs
        [tabForm, tabPlayers, tabAbout].forEach(tab => {
          tab.classList.remove('gold-gradient', 'text-gray-900');
          tab.classList.add('bg-slate-700', 'text-amber-300');
        });
        
        activeTab.classList.remove('bg-slate-700', 'text-amber-300');
        activeTab.classList.add('gold-gradient', 'text-gray-900');
        
        // Update sections
        [formSection, playersSection, aboutSection].forEach(section => {
          section.classList.remove('active');
        });
        
        activeSection.classList.add('active');
      }
      
      // Function to update players list
      function updatePlayersList(filterYear = 'all') {
        if (players.length === 0) {
          playersList.innerHTML = `
            <div class="col-span-2 text-center py-8 text-amber-200">
              <i class="fas fa-users text-4xl mb-4"></i>
              <p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø§Ø¹Ø¨ÙˆÙ† Ù…Ø³Ø¬Ù„ÙˆÙ† Ø¨Ø¹Ø¯</p>
            </div>
          `;
          return;
        }
        
        let filteredPlayers = players;
        if (filterYear !== 'all') {
          filteredPlayers = players.filter(player => player.year === filterYear);
        }
        
        playersList.innerHTML = '';
        
        filteredPlayers.forEach(player => {
          const playerCard = document.createElement('div');
          playerCard.className = 'player-card bg-slate-700/80 p-4 rounded-lg border border-amber-500/20';
          playerCard.innerHTML = `
            <div class="flex items-center mb-3">
              <div class="gold-gradient p-2 rounded-full">
                <i class="fas fa-user text-gray-900"></i>
              </div>
              <h3 class="text-lg font-bold text-amber-300 mr-2">${player.name}</h3>
            </div>
            <div class="space-y-2 text-amber-100">
              <p><i class="fas fa-birthday-cake ml-2"></i> Ø³Ù†Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: ${player.year}</p>
              <p><i class="fas fa-phone ml-2"></i> Ø§Ù„Ù‡Ø§ØªÙ: ${player.phone}</p>
              <p><i class="fas fa-futbol ml-2"></i> Ø§Ù„Ù…Ø±ÙƒØ²: ${player.position}</p>
              <p class="text-sm text-amber-200/70"><i class="fas fa-clock ml-2"></i> ÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„: ${player.timestamp}</p>
            </div>
          `;
          
          playersList.appendChild(playerCard);
        });
      }
      
      // Function to export players data
      function exportPlayersData() {
        let csvContent = "Ø§Ù„Ø§Ø³Ù…,Ø³Ù†Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯,Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ,Ø§Ù„Ù…Ø±ÙƒØ²,ÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„\n";
        
        players.forEach(player => {
          csvContent += `"${player.name}",${player.year},${player.phone},${player.position},${player.timestamp}\n`;
        });
        
        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement("a");
        link.setAttribute("href", url);
        link.setAttribute("download", "Ù„Ø§Ø¹Ø¨ÙŠÙ†_Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©_Ù‚Ø§Ø¯Ø©_Ø§Ù„Ù†ØµØ±.csv");
        link.style.visibility = 'hidden';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }
      
      // Function to clear players data
      function clearPlayersData() {
        players = [];
        localStorage.removeItem('players');
        updatePlayersList();
        alert('ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
      }
    });
  </script>
</body>
</html>